<html>
	<head>
		<script>
			function getData(){
				var ev=new EventSource("sse.php");
				ev.addEventListener("timer",display,false);
				// false=> event bubbling is not enabled
				ev.onerror=function(){
					alert("error"); //alert is blocking, so we have to explicitly call getData again (we can console log instead)
					getData();
				}

			}
			function display(e){
				console.log("display");
				var div=document.createElement("div");
				div.innerHTML=e.data;
				document.body.appendChild(div);
			}
		</script>
	</head>
	<body onload="getData()">
		
	</body>
</html>